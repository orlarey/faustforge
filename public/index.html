<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>faustforge</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>FAUSTFORGE</h1>
    <div class="header-nav">
      <button id="session-prev" class="icon-btn" title="Previous session">â—€</button>
      <div id="session-label">Empty</div>
      <button id="session-next" class="icon-btn" title="Next session">â–¶</button>
    </div>
    <div class="header-controls">
      <button id="refresh-session" class="icon-btn hidden" title="Refresh session" aria-label="Refresh session">â†»</button>
      <select id="view-select" title="View"></select>
      <button id="delete-session" class="icon-btn" title="Delete session" aria-label="Delete session">ðŸ—‘</button>
      <input type="file" id="file-input" accept=".dsp" hidden>
      <button id="download-btn" class="primary-btn" title="Download" aria-label="Download">Download</button>
    </div>
  </header>

  <main>

    <!-- Overlay de drop (pleine page) -->
    <div id="drop-overlay" class="hidden">
      <div class="drop-overlay-content">
        <span class="drop-icon">â†“</span>
        <p>Drop <code>.dsp</code> file</p>
      </div>
    </div>

    <!-- Overlay de chargement -->
    <div id="loading-overlay" class="hidden">
      <span class="loading-text">Compiling...</span>
    </div>

    <!-- Bandeau d'erreur -->
    <div id="error-banner" class="hidden"></div>

    <!-- Conteneur pour la vue active -->
    <div id="view-container" class="hidden"></div>
  </main>

  <footer>
    <span id="footer-version">v0.1</span>
  </footer>

  <div id="audio-gate" class="audio-gate hidden" role="dialog" aria-modal="true" aria-labelledby="audio-gate-title">
    <div class="audio-gate-card">
      <h2 id="audio-gate-title">Enable Audio</h2>
      <p>Click once to unlock WebAudio for this browser tab before using MCP run controls.</p>
      <button id="audio-gate-button" class="primary-btn">Enable Audio</button>
      <div id="audio-gate-status" class="audio-gate-status hidden"></div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
